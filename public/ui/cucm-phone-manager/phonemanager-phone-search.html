<!-- Include Navbar -->
<ng-include src="'app-content/navbar.html'"></ng-include>


<div style="margin:10px"></div>

<div style="margin-left:5%; margin-right:5%;">
<div class="well">
<div style="margin:50px"></div>

	<div class="row">
		<div class="col-md-10 col-sm-10 col-lg-10 col-md-offset-1">
			<script type="text/ng-template" id="error-messages">
							<div ng-message='required'> This Field is required </div>
							<div ng-message='minlength'> Too short </div>
							<div ng-message='maxlength'> Too long </div>
			</script>
				<legend><h2><i class="fa fa-pencil fa-fw"></i> Phone & Line Search</h2></legend>
				
					<div class="well">
						<p><i class="fa fa-info-circle" style="color:red;"></i><b style="color:red;"> Note! </b> You can now search by line number!<br></p>
					</div>
					
					<!--<form class="form" role="form" id="addDeviceForm" ng-submit='addDeviceForm.$valid && vm.submitDevice(vm.deviceForm)' novalidate name="addDeviceForm">-->
					<form class="form" role="form" id="addDeviceForm" novalidate name="addDeviceForm">
					
						<div class="row">
							<div class="col-md-4 col-sm-4 col-xs-12 col-lg-4">
								<div class="form-group" ng-class="{'has-error': addDeviceForm.key.$touched && addDeviceForm.key.$invalid, 'has-success': addDeviceForm.key.$touched && addDeviceForm.device.$valid }">
									<label for="key" class="control-label">Search Field</label>
									<div class="inputGroupContainer">
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-phone-square"></i></span>
											
											<select class="form-control" required ng-model='vm.deviceForm.key' ng-options="key as key for key in vm.searchkeys" data-width="100%" name="keys">
											</select>
										</div>
										<div ng-messages="addDeviceForm.key.$dirty && addDeviceForm.key.$error">
												<div ng-message='required'> key is required </div>
										</div>
									</div>
								</div>
							</div>
						</div>
						
						<div class="row">
							
							<div class="col-md-4 col-sm-4 col-xs-12 col-lg-4" ng-if="vm.deviceForm.key && vm.deviceForm.key == 'name'">
									<div class="form-group" ng-class="{'has-error': addDeviceForm.name.$touched && addDeviceForm.name.$invalid, 'has-success': addDeviceForm.name.$touched && addDeviceForm.name.$valid }">
										<label for="name" class="control-label">Name</label>
										<div class="inputGroupContainer">
											<div class="input-group">
												<span class="input-group-addon"><i class="fa fa-server"></i></span>
												<input type="text" ng-model='vm.deviceForm.name' ng-model-options='{ debounce: 1000 }' ng-change="vm.checkphoneusage(vm.deviceForm)" required class="form-control"  name="name" placeholder="MAC Address" ng-minlength='4'>
											</div>
											<div ng-messages="addDeviceForm.name.$dirty && addDeviceForm.name.$error">
													<div ng-message='required'> Name is required </div>
													<div ng-message='minlength'>Please enter a name at least 4 chars long</div>
													<div ng-message='maxlength'>Name entered cannot be longer than 12 chars</div>
													
											</div>
										</div>
									</div>
								</div>
						
						</div>
						
						<div class="row">
							
							<div class="col-md-4 col-sm-4 col-xs-12 col-lg-4" ng-if="vm.deviceForm.key && vm.deviceForm.key == 'description'">
								<div class="form-group" ng-class="{'has-error': addDeviceForm.description.$touched && addDeviceForm.description.$invalid, 'has-success': addDeviceForm.description.$touched && addDeviceForm.description.$valid }">
									<label for="description" class="control-label">Description</label>
									<div class="inputGroupContainer">
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-server"></i></span>
											<input type="text" ng-model='vm.deviceForm.description' ng-model-options='{ debounce: 1000 }' ng-change="vm.checkphoneusage(vm.deviceForm)" required class="form-control"  name="description" placeholder="Description"  ng-minlength='4'>
										</div>
										<div ng-messages="addDeviceForm.description.$dirty && addDeviceForm.description.$error">
												<div ng-message='required'> Description is required </div>
												<div ng-message='minlength'>Please enter a description at least 4 chars long</div>
												<div ng-message='maxlength'>description entered cannot be longer than 12 chars</div>
												
										</div>
									</div>
								</div>
							</div>
						
						</div>
						
						<div class="row">
							
							<div class="col-md-4 col-sm-4 col-xs-12 col-lg-4" ng-if="vm.deviceForm.key && vm.deviceForm.key == 'callingSearchSpaceName'">
								<div class="form-group" ng-class="{'has-error': addDeviceForm.callingSearchSpaceName.$touched && addDeviceForm.callingSearchSpaceName.$invalid, 'has-success': addDeviceForm.callingSearchSpaceName.$touched && addDeviceForm.callingSearchSpaceName.$valid }">
									<label for="callingSearchSpaceName" class="control-label">Calling Search Space</label>
									<div class="inputGroupContainer">
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-server"></i></span>
											<input type="text" ng-model='vm.deviceForm.callingSearchSpaceName' ng-model-options='{ debounce: 1000 }' ng-change="vm.checkphoneusage(vm.deviceForm)" required class="form-control"  name="callingSearchSpaceName" placeholder="callingSearchSpaceName"  ng-minlength='8'>
										</div>
										<div ng-messages="addDeviceForm.callingSearchSpaceName.$dirty && addDeviceForm.callingSearchSpaceName.$error">
												<div ng-message='required'> Calling Search Space is required </div>
												<div ng-message='minlength'>Please enter a callingSearchSpaceName at least 8 chars long</div>
												<div ng-message='maxlength'>callingSearchSpaceName entered cannot be longer than 12 chars</div>
												
										</div>
									</div>
								</div>
							</div>
						
						</div>
						
						<div class="row">
							
							<div class="col-md-4 col-sm-4 col-xs-12 col-lg-4" ng-if="vm.deviceForm.key && vm.deviceForm.key == 'devicePoolName'">
								<div class="form-group" ng-class="{'has-error': addDeviceForm.devicePoolName.$touched && addDeviceForm.devicePoolName.$invalid, 'has-success': addDeviceForm.devicePoolName.$touched && addDeviceForm.devicePoolName.$valid }">
									<label for="devicePoolName" class="control-label">Device Pool</label>
									<div class="inputGroupContainer">
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-server"></i></span>
											<input type="text" ng-model='vm.deviceForm.devicePoolName' ng-model-options='{ debounce: 1000 }' ng-change="vm.checkphoneusage(vm.deviceForm)" required class="form-control"  name="devicePoolName" placeholder="devicePoolName"  ng-minlength='8'>
										</div>
										<div ng-messages="addDeviceForm.devicePoolName.$dirty && addDeviceForm.devicePoolName.$error">
												<div ng-message='required'> Device Pool Name is required </div>
												<div ng-message='minlength'>Please enter a devicePoolName at least 8 chars long</div>
												<div ng-message='maxlength'>devicePoolName entered cannot be longer than 12 chars</div>
												
										</div>
									</div>
								</div>
							</div>
						
						</div>
						
						<div class="row" ng-if="vm.deviceForm.key && vm.deviceForm.key == 'lineNumber'">
							
							<div class="col-md-4 col-sm-4 col-xs-12 col-lg-4" >
								<div class="form-group" ng-class="{'has-error': addDeviceForm.line.$touched && addDeviceForm.line.$invalid, 'has-success': addDeviceForm.line.$touched && addDeviceForm.line.$valid }">
									<label for="line" class="control-label">Line Number</label>
									<div class="inputGroupContainer">
										<div class="input-group">
											<span class="input-group-addon"><i class="fa fa-server"></i></span>
											<input type="text" ng-model='vm.deviceForm.line' required class="form-control"  name="line" placeholder="4021230000"  ng-minlength='10' ng-maxlength='10'>
										</div>
										<div ng-messages="addDeviceForm.line.$dirty && addDeviceForm.line.$error">
												<div ng-message='required'> DeviceName is required </div>
												<div ng-message='minlength'>Please enter a line at least 10 digits long</div>
												<div ng-message='maxlength'>Line entered cannot be longer than 10 digits</div>
												
										</div>
									</div>
								</div>
								
								<a href="#/line/{{vm.deviceForm.line}}" ng-if="vm.deviceForm.line"><button class="btn btn-primary">Submit</button> </a>
						
							</div>
							
							
						</div>
						
						
						<div class="row" ng-if="vm.phone">
							<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
								<ng-include src="'cucm-phone-manager/includes/include-phonefound.html'"></ng-include>
							</div>
							<div style="margin-bottom:125px"></div>
						</div>
						
						<div class="row">
							<div class="col-md-12 col-sm-12 col-xs-12 col-lg-12">
								<ng-include src="'cucm-phone-manager/includes/include-phone-table.html'"></ng-include>
							</div>
							<div style="margin-bottom:125px"></div>
						</div>

						<div style="margin:100px"></div>
						
					</form>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div style="margin:25px"></div>
		
	</div>
</div>
</div>
