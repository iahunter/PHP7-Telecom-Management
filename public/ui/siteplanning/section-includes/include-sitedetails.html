<div ng-if="vm.permissions.read.Site" >
			
	<!-- Loading -->
	<div ng-if="vm.loading && !vm.message" class="well">
		<div class="row">
			<div class="container loader"></div>
		</div>
		<div style="margin:25px"></div>
	</div>

	<div ng-if="vm.message;" class="well">
		<div class="row">
			<h4>{{vm.message}}</h4>
		</div>
		<div style="margin:65px"></div>
	</div>
	
	
	<div  ng-if="vm.site">
	
		<h4><b><i class="fa fa-building-o"></i> Site Information</b></h4>

		<div class="panel panel-default" style="box-shadow: 1px 1px 5px grey;">
			<div class="table-responsive">    
				<table class="table table-striped table-bordered table-hover">
					<thead>
						<tr style="background-color: #aeb3b7; background-image: linear-gradient(#e4e6e7, #d6d9db 60%, #c9cccf)">
							<th>
								<a href="" ng-click="sortType = 'id'; sortReverse = !sortReverse" style="color:black">
									ID
										<span ng-show="sortType == 'id' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'id' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>

							<th>
								<a href="" ng-click="sortType = 'sitecode'; sortReverse = !sortReverse" style="color:black">
									Sitecode
										<span ng-show="sortType == 'sitecode' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'sitecode' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<th>
								<a href="" ng-click="sortType = 'comment'; sortReverse = !sortReverse" style="color:black">
									Description
										<span ng-show="sortType == 'comment' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'comment' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<th>
								<a href="" ng-click="sortType = 'srstip'; sortReverse = !sortReverse" style="color:black">
									Srst IP
										<span ng-show="sortType == 'srstip' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'srstip' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>	

							<th>
								<a href="" ng-click="sortType = 'h323ip'; sortReverse = !sortReverse" style="color:black">
									H323 Gateway IPs
										<span ng-show="sortType == 'country_code' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'country_code' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>	
							
							<th>
								<a href="" ng-click="sortType = 'timezone'; sortReverse = !sortReverse" style="color:black">
									CUCM Date & Time Group
										<span ng-show="sortType == 'timezone' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'timezone' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<th>
								<a href="" ng-click="sortType = 'npa'; sortReverse = !sortReverse" style="color:black">
									NPA
										<span ng-show="sortType == 'npa' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'npa' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<th>
								<a href="" ng-click="sortType = 'nxx'; sortReverse = !sortReverse" style="color:black">
									NXX
										<span ng-show="sortType == 'nxx' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'nxx' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							
							<th>
								<a href="" ng-click="sortType = 'didrange'; sortReverse = !sortReverse" style="color:black">
									Did Range Regex
										<span ng-show="sortType == 'didrange' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'didrange' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<!--
							<th>
								<a href="" ng-click="sortType = 'didblocks'; sortReverse = !sortReverse" style="color:black">
									Did Block IDs
										<span ng-show="sortType == 'didblocks' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'didblocks' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							-->
							
							<th>
								<a href="" ng-click="sortType = 'operator'; sortReverse = !sortReverse" style="color:black">
									Operator
										<span ng-show="sortType == 'operator' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'operator' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<th>
								<a href="" ng-click="sortType = 'trunking'; sortReverse = !sortReverse" style="color:black">
									Trunking
										<span ng-show="sortType == 'trunking' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'trunking' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<th>
								<a href="" ng-click="sortType = 'e911'; sortReverse = !sortReverse" style="color:black">
									911
										<span ng-show="sortType == 'e911' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'e911' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<th>
								<a href="" ng-click="sortType = 'languages'; sortReverse = !sortReverse" style="color:black">
									Languages
										<span ng-show="sortType == 'languages' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'languages' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>

							

							<th>
								<a href="" ng-click="sortType = 'created_at'; sortReverse = !sortReverse" style="color:black">
									Created At
										<span ng-show="sortType == 'created_at' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'created_at' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
							
							<th>
								<a href="" ng-click="sortType = 'updated_at'; sortReverse = !sortReverse" style="color:black">
									Updated At
										<span ng-show="sortType == 'updated_at' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
										<span ng-show="sortType == 'updated_at' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
								</a>
							</th>
						</tr>
					</thead>
					
					<tbody>

					<tr>
							<td>{{ vm.site.id}}</a></td>
							<td>{{ vm.site.sitecode}}</td>
							<td>{{ vm.site.comment}}</td>
							<td>{{ vm.site.srstip}}</a></td>
							<td>{{ vm.site.h323ip}}</td>
							<td>{{ vm.site.timezone}}</td>
							<td>{{ vm.site.npa}}</td>
							<td>{{ vm.site.nxx}}</td>
							<td>{{ vm.site.didrange}}</td>
							<!--<td>{{ vm.site.didblocks}}</td>-->
							
							<td>{{ vm.site.operator}}</td>
							<td>{{ vm.site.trunking}}</td>
							<td>{{ vm.site.e911}}</td>
							<td> <span ng-repeat="language in vm.site.languages">{{ language}} </span> </td>
							<td>{{ vm.site.created_at}} by {{ vm.site.created_by}}</td>
							<td>{{ vm.site.updated_at}} by {{ vm.site.updated_by}}</td>
					</tr>
					</tbody>
				</table>
				</div>
		</div>
		
		<div style="margin:25px"></div>
		<a href="#/site/edit/{{vm.site.id}}" ng-if="vm.permissions.update.Site"><button class="btn btn-primary btn-sm"><i class="glyphicon glyphicon glyphicon-pencil"></i> Edit</button> </a>
		<div style="margin:25px"></div>
	
	
		<div ng-if="vm.site.didblocksdetails">
			<h4><b># Number Blocks</b></h4>
			<div class="panel panel-default" style="box-shadow: 1px 1px 5px grey;">
				<div class="table-responsive">    
					<table class="table table-condensed table-striped table-bordered table-hover">
					
						<thead>
							<tr class="success">
									<th>ID</th>
									<th>Name</th>
									<th>Comment</th>
									<th>Carrier</th>
									<th>Country Code</th>
									<th>Start</th>
									<th>End</th>
									<th>Size</th>
									<th>Available</th>
									<th>Inuse</th>
									<th>Reserved</th>
									<th>Capacity</th>
									<th>Type</th>
									
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="block in vm.site.didblocksdetails track by $index">
								<td><b><a href="#/didblock/{{block.id}}"><button class="btn btn-default btn-xs ">{{block.id}}</button></a></b></td>
								<td><a href="#/didblock/{{block.id}}"><b>{{ block.name}}</b></a></td>
								<td>{{ block.comment}}</td>
								<td>{{ block.carrier}}</a></td>
								<td>{{ block.country_code}}</td>
								<td>{{ block.start}}</td>
								<td>{{ block.end}}</td>
								<td ng-init="block.total = block.end - block.start + 1">{{ block.total}}</td>
								<td>{{ block.stats.available}}</td>
								<td>{{ block.stats.inuse}}</td>
								<td>{{ block.stats.reserved}}</td>
								<td ng-init="block.capacity = block.stats.inuse / block.total * 100">{{ block.capacity | number:0}}%</td>
								<td>{{ block.type}}</a></td>
								
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		
		<div ng-hide="vm.site.didblocks">
		<h4><b>No # Number Blocks Found</b></h4>
		</div>
	
	
	</div>
			
</div>